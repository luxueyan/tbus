// Generated by LiveScript 1.3.1
var token, ef;
token = require('../token');
ef = require('../ef');
module.exports = require('oauth2orize').exchange.password(function (client, username, password, scope, done) {
    var user, obj;
    if (!client) {
        return done(null);
    }
    client = {
        name: client.name,
        id: client.id
    };
    if (!scope) {
        scope = [];
    }
    user = {
        username: username,
        password: password,
        id: 'test-user-id'
    };
    obj = {
        client: client,
        scope: scope,
        user: user
    };
    if (obj.user && obj.user.idNumber) {
        delete obj.user.idNumber;
    }
    return ef(done, token.posta, obj, function (atoken) {
        return done(null, atoken, null, obj);
    });
});
